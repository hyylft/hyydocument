<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>点击图片放大例子</title>
	<style>
		 #home {
			position: relative;
		}
		.opcit {
			width: 100%;
			height: 100%;
			_position: absolute;left:0;top:0;
			position: fixed;
			z-index: 1300;
			background: #fff;
		    background: rgba(0, 0, 0, 0.4);
		    filter: alpha(opacity=40);
		}
		.opcit img {
			position: fixed;
			display: block;
			background: #fff;
			padding: 10px;
			cursor: url('../images/h_djin.png');
		}

		/* 额外样式 */
		.img_box img {
			display: inline-block;
			width: 300px;
			height: auto;
			margin: 8px;
		}
	</style>
	<script src="http://apps.bdimg.com/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
	<script>
		 function setClickMain(clickDiv){
			var attrsrc = $(clickDiv).attr('src');

			$(".opcit img").attr('src',attrsrc);		

			setDivMain(clickDiv);
		}

		function setDivMain(mainDiv){		
			$(".opcit img").css({'position': 'fixed','top':'50%','left':'50%','z-index': '1200'}); 
			$(".opcit").css('display','block');
			setDivCenter(".opcit img");
		}
		//解决不支持ie
		function setDivCenter(divName){
			var offw = ($(".opcit img").width())/2;
			var offh = ($(".opcit img").height())/2;
		    var top = ($(window).height() - $(divName).height())/2;   
		    var left = ($(window).width() - $(divName).width())/2;   
		    var scrollTop = $(document).scrollTop();
		    var scrollLeft = $(document).scrollLeft();			
		    $(".opcit img").css('margin-top',-offh  - 10);
			$(".opcit img").css('margin-left', -offw  - 10);
		    // $('"#div"').css( { position : 'fixed', 'top' : top + scrollTop - offh, 'left' : left + scrollLeft - offw } ).show();
		}
		$(document).on('click','.opcit',function(){
			$(".opcit").css('display','none');
		})
		$(document).on('click','.img_box img',function(){
			setClickMain(this);
		})
		// 页面滚动时候div也随窗口走动并处于中间
		$(window).scroll(function(){
			setDivCenter(".opcit img");
		})

		// 改变窗口时候也始终保持居中
		$(window).resize(function(){
			setDivCenter(".opcit img");
		});
	</script>

</head>
<body>
	<div id="hone">
		<div class="img_box">
			<img src="http://zhitu.isux.us/assets/img/imgTest/IMG20150911/75/20150911154118-6ET0bZQoSd.png" alt="">
			<img src="http://zhitu.isux.us/assets/img/img_soruce/IMG20150911/20150911153903-Pl1jV6TQXP.jpg" alt="">
			<img src="http://zhitu.isux.us/assets/img/imgTest/IMG20150911/40/20150911153942-YJP5NFSqWO.jpg" alt="">
			<img src="http://qa.userimg.shiwan.com/uploads/qa/ask_image/3f/f9/9e8f1cf45ee54fd8c8c3adfe201b8382.jpg" alt="">
			<img src="http://qa.userimg.shiwan.com/uploads/qa/ask_image/9e/65/8acbe8ee79155cad46e18ce75c002da5.jpg" alt="">
			<img src="http://qa.userimg.shiwan.com/uploads/qa/ask_image/3f/bf/0a12fe39efc1fcecb75660fd3d4438d7.jpg" alt="">
			<img src="http://qa.userimg.shiwan.com/uploads/qa/ask_image/21/0a/edb17b9e1325f3e0e1a328c446f7960a.jpg" alt="">
			<img src="http://qa.userimg.shiwan.com/uploads/qa/ask_image/79/6a/2a760bdfba34027752f527d9c6937198.jpg" alt="">
		</div>
		<!--放在最外边，其父级要加相对定位-->
		<div class="opcit" style="display:none;">
			<img src="" alt="">
		</div>
	</div>
</body>
</html>