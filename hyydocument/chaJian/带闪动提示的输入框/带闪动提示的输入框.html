<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>带闪动提示的输入框</title>
	<script src="http://apps.bdimg.com/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
	<style>
		.fanzz{height: 25px;width:135px; margin:25px 45px 0 0; position:relative; border:1px solid #dedede;}
		.fanzz .ds_seach{ width:135px; height:24px;   display: inherit;margin:0 28px 0 5px; outline:none;border:none 0;background: none;}
		.kw_dj{ background: url(img/search.png) no-repeat left center; width:28px; height:26px; position: absolute; right:0; top:0; cursor:pointer;}
		.ds_col {border: 1px solid red;}
		.shine { border-color: red;}
	</style>
</head>
<body>
<div class="fanzz">
	<input class="ds_seach" id="ds_seach" type="text" placeholder="游戏/大神" maxlength="20" onkeyup="ds_deal()" onKeyDown="if(this.value.length >= 20){ return false }"/>
	<i class="kw_dj"></i>
</div>
<script>
       // 搜索框
    var timer;
    $(".kw_dj").click(function(ev){
        clearInterval(timer);
           if($(".ds_seach").val() == ''){
               timer = setInterval(function(){
				  	if( $(".fanzz").hasClass('shine') ){
						$(".fanzz").removeClass('shine');
					}else{
						$(".fanzz").addClass('shine');
					}
                },800);
           };
		ev.stopPropagation();
    });
    $(".ds_seach").keydown(function(ev){   //keydow或是keyup都能引导触发回车事件
        clearInterval(timer);
        if( ev.which == 13 && $(".ds_seach").val() == '' ){
           timer = setInterval(function(){
                if( $(".fanzz").hasClass('shine') ){
                    $(".fanzz").removeClass('shine');
                }else{
                    $(".fanzz").addClass('shine');
                }
            },800);
        }else{
            $(".fanzz").removeClass('shine'); //当回车时，输入内容使边框变为初始化
        };
        ev.stopPropagation();
    });

    $(".ds_seach").blur(function(){
        clearInterval(timer);
        $(".fanzz").removeClass('shine');
    });
    $(document).click(function(){
        clearInterval(timer);
		$(".fanzz").removeClass('shine');
    });

    function ds_deal(){
        var curLen=$(".ds_seach").val().length; 
        if(curLen>6){ 
            var num=$(".ds_seach").val().substr(0,6); 
            $(".ds_seach").val(num);
        }
    };

</script>
</body>
</html>